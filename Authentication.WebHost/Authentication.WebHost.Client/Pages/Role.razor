@page "/roles"

<h3>Role Management</h3>

@if (roles == null)
{
    <p>Loading roles...</p>
}
else
{
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Role ID</th>
                <th>Role Name</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var role in roles)
            {
                <tr>
                    <td>@role.Id</td>
                    <td>@(editingRoleId == role.Id ? (object)@roleName : role.Name)</td>
                    <td>
                        @if (editingRoleId == role.Id)
                        {
                            <button class="btn btn-primary" @onclick="() => UpdateRole(role.Id)">Save</button>
                            <button class="btn btn-secondary" @onclick="CancelEdit">Cancel</button>
                        }
                        else
                        {
                            <button class="btn btn-warning" @onclick="() => EditRole(role)">Edit</button>
                            <button class="btn btn-danger" @onclick="() => DeleteRole(role.Id)">Delete</button>
                        }
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <h4>Add New Role</h4>
    <input type="text" @bind="newRoleName" placeholder="Enter role name" class="form-control" />
    <button class="btn btn-success mt-2" @onclick="AddRole">Add Role</button>
}